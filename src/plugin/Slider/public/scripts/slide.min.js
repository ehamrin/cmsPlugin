(function(b){var a=function(k,t){var d=b(k),g=b.extend({},b.fn.textSlider.defaults,t),n={use_pause_time:null,current_slide:0,old_slide:0,total_slides:0,is_sliding:false,slides:[],timer:null},e=d.children();e.each(function(){var u=b(this),i="";if(u.hasClass("slide")){n.total_slides++;n.slides.push(u);if(n.total_slides>1){u.hide()}}});g.original_pause_time=g.pause_time;function q(){if(g.auto_next&&typeof n.slides[n.current_slide]!=="undefined"){g.pause_time=n.slides[n.current_slide].data("pause")*1000||g.original_pause_time;n.timer=setTimeout(h,g.pause_time)}}function s(){if(g.auto_next&&n.timer!==null){clearTimeout(n.timer);n.timer=null}}function l(){n.slides[n.old_slide].hide();n.is_sliding=false}function f(i,u){d.trigger("textSlider.beforeshow",i);switch(g.effect){case"slide":i.css("left",(u>0?"-100%":"100%")).show().stop().animate({left:0},g.slide_duration,"swing",l);break;case"fade":i.stop().fadeIn(g.slide_duration,l);break}setTimeout(function(){d.trigger("textSlider.aftershow",i)},g.slide_duration);if(g.show_breadcrumbs){b(".textslider-breadcrumb.current",d).removeClass("current");b(".textslider-breadcrumb:eq("+n.current_slide+")",d).addClass("current")}}function m(i,u){d.trigger("textSlider.beforehide",i);switch(g.effect){case"slide":i.css("left",0).stop().animate({left:(u>0?"-100%":"100%")},g.slide_duration,"swing",l);break;case"fade":i.stop().fadeOut(g.slide_duration,l);break}setTimeout(function(){d.trigger("textSlider.afterhide",i)},g.slide_duration)}function h(){if(!n.is_sliding&&n.total_slides>1){s();n.old_slide=n.current_slide;n.is_sliding=true;n.current_slide++;if(n.current_slide===n.total_slides){n.current_slide=0}f(n.slides[n.current_slide],1);m(n.slides[n.old_slide],-1);q()}}function r(){if(!n.is_sliding&&n.total_slides>1){s();n.old_slide=n.current_slide;n.is_sliding=true;n.current_slide--;if(n.current_slide<0){n.current_slide=n.total_slides-1}f(n.slides[n.current_slide],-1);m(n.slides[n.old_slide],1);q()}}function o(i){if(!n.is_sliding&&n.total_slides>1){s();n.old_slide=n.current_slide;n.is_sliding=true;n.current_slide=i;f(n.slides[n.current_slide],(i>n.old_slide?-1:1));m(n.slides[n.old_slide],(i>n.old_slide?1:-1));q()}}function p(u,i){if(typeof i==="undefined"){return g[u]}else{g[u]=i;return this}}d.addClass("textslider");d.wrapInner('<div class="textslider-inner"></div>');if(g.show_nav){d.append('<a href="#" class="textslider-prev">Föregående</a><a href="#" class="textslider-next">Nästa</a>')}if(g.show_breadcrumbs){var j,c=b('<div class="textslider-breadcrumbs" />');for(j=0;j<n.total_slides;j++){c.append('<a href="#" class="textslider-breadcrumb'+(j===0?" current":"")+'" data-index="'+j+'">'+(j+1)+"</a>")}d.append(c)}d.on("click",".textslider-next",function(i){i.preventDefault();h()}).on("click",".textslider-prev",function(i){i.preventDefault();r()}).on("click",".textslider-breadcrumb",function(i){i.preventDefault();o(b(i.target).data("index"))}).on("mouseenter",function(i){if(g.pause_onhover&&n.timer!==null){s()}}).on("mouseleave",function(i){if(n.timer===null){q()}});q();setTimeout(function(){d.trigger("textSlider.beforeshow",n.slides[0]);d.trigger("textSlider.aftershow",n.slides[0])},10);this.next=h;this.previous=r;this.goTo=o;this.setting=p};b.fn.textSlider=function(c){return this.each(function(f,g){var e=b(this);if(e.data("textSlider")){return e.data("textSlider")}var d=new a(this,c);e.data("textSlider",d)})};b.fn.textSlider.defaults={auto_next:false,pause_time:3000,slide_duration:400,show_nav:true,show_breadcrumbs:false,effect:"slide",pause_onhover:false}})(jQuery);$(".slider").textSlider({auto_next:true,show_nav:false,slide_duration:200,pause_time:5000,effect:"fade"});