var onlineStatus=true;var timeout;var setOnlineStatus=function(a){if(a!=onlineStatus){var c=a?"network_online":"network_offline";$(".network-flash-message").remove();var b=a?"Du ser ut att vara online igen!":"Det verkar som att du är offline</p><p>Det betyder att du kan se innehåll du tidigare kollat på, men nytt innehåll är inte tillgängligt";$("body").prepend('<div id="'+c+'" class="network-flash-message"><p class="title">'+b+'</p><p class="discrete">(Klicka på meddelandet för att dölja det)</p></div>');setTimeout(function(){onlineStatus=a},100)}};$(document).ready(function(){$("body").on("click",".network-flash-message",function(){$(this).remove()});if(navigator.serviceWorker){navigator.serviceWorker.register("ServiceWorker",{scope:"./"}).then(function(a){console.log(a)}).catch(function(a){console.error(a)});navigator.serviceWorker.addEventListener("message",function(b){var a=b.data.online;setOnlineStatus(a)})}else{console.log("Service Worker is not supported in this browser.")}});